<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>Wow! Such Javascript!</title>
        <meta name="description" content="">
        <meta name="author" content="">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="../reveal.js/css/reveal.min.css">
        <link rel="stylesheet" href="../reveal.js/css/theme/night.css">
        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css">
        <link rel="stylesheet" href="css/styles.css">
        <!--[if lt IE 9]>
        <script src="../reveal.js/lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>
    <div class="reveal"><div class="slides">

        <section>
            <h1>Javascript</h1>
            <img src="http://i.imgur.com/5pc3SSZ.gif?1" alt="" />
        </section>

        <section>
            <h2>Pourquoi Javascript ?</h2>
            <img src="http://24.media.tumblr.com/tumblr_lv6t33Q2kh1qzg45so1_1280.jpg" alt="" />
        </section>

        <section>
            <h2>Un langage mal aimé</h2>
            <img src="http://farm5.staticflickr.com/4066/4704268314_bb0e9d0ff3_z.jpg" alt="" />
        </section>

        <section>
            <h2>La belle…</h2>
            <pre class="python"><code>
class Pomodoro:
    def __init__(self, duration):
        self.duration = duration


pomodoro = Pomodoro(25)
print pomodoro.duration
            </code></pre>
        </section>

        <section>
            <h2>…et la bête</h2>
            <pre class="javascript"><code>
(function(exports) {
    "use strict";

    var Models = {};

    Models.Pomodoro = function(duration) {
        this.duration = duration;
    };

    Models.Pomodoro.prototype.getDuration = function() {
        return this.duration;
    };

    exports.Models = Models;
})(this);

var pomodoro = new Models.Pomodoro(25);
console.log(pomodoro.getDuration());
             </code></pre>
        </section>

        <section>
            <img src="http://25.media.tumblr.com/tumblr_lvt3zeF7CY1qzg45so1_1280.jpg" alt="" />
        </section>

        <section>
            <h1>Pour s'échauffer !</h1>
        </section>

        <section>
            <pre><code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Testing javascript&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script src="tests.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
            </code></pre>
        </section>

        <section>
            <h2>Les types en Javascript</h2>
            <ul>
                <li>Number</li>
                <li>String</li>
                <li>Boolean</li>
                <li>Null</li>
                <li>Undefined</li>
                <li>Object
                    <ul class="fragment">
                        <li>Function</li>
                        <li>Array</li>
                        <li>Date</li>
                        <li>RegExp</li>
                    </ul>
                </li>
            </ul>
        </section>

        <section>
            <h2>Les variables</h2>
            <pre class="javascript"><code>
var name = "Thibault";
name;
=> 'Thibault'

name = 5;
name;
=> 5

var test;
typeof test;
=> 'undefined'
            </code></pre>
        </section>

        <section>
            <h2>Attention aux variables globales !</h2>
            <pre class="javascript"><code>
var pasGlop = function() {
    test_var = "I'm alive!";
};

var glop = function() {
    var test_var_2 = "Where am I?";
};

pasGlop();
test_var;
=> "I'm alive"

glop();
test_var_2;
=> 'undefined';
            </code></pre>
        </section>

        <section>
            <img src="http://31.media.tumblr.com/tumblr_m7spf4ZVyj1qzg45so1_1280.jpg" alt="" />
        </section>

        <section>
            <h2>Les nombres</h2>
            <pre class="javascript"><code>
0.1;
=> 0.1

0.1 * 3;
=> 0.30000000000000004

Math.floor(5.2);
=> 5

5 + "10";
=> '510'

5 + parseInt("10");
=> 15

parseInt('Je ne suiiiiss pas un nombreeeeuuuuuh');
=> NaN
            </code></pre>
        </section>

        <section>
            <h2>Les nombres</h2>
            <pre class="javascript"><code>
isNaN(NaN);
=> true

isNaN(5);
=> false

NaN === NaN
=> false

5 > Infinity;
=> false

1/0;
=> Infinity

isFinite(NaN);
=> false
            </code></pre>
        </section>

        <section>
            <h2>Les booléens</h2>
            <pre><code>
true
=> true

false
=> false

true == true
=> true

true == false
=> false

            </code></pre>
        </section>

        <section>
            <h2>Truthy et falsy</h2>
            <pre><code>
Boolean("")
=> false

Boolean("test")
=> true

Boolean(0)
=> false

Boolean(5)
=> true

Boolean(undefined)
=> false

Boolean(null)
=> false

Boolean(NaN)
=> false
            </code></pre>
        </section>

        <section>
            <h2>Comparaisons</h2>
            <pre><code>
false == 0
=> true

false == ""
=> true

"" == 0
=> true  // Wat?

null == false
=> false

if (null) { console.log('true'); } else { console.log('false'); }
=> "false"  // O_o

NaN == NaN
=> false  // Go home, you are drunk!
            </code></pre>
        </section>


        <section>
            <h2>Astuce : utiliser === et !==</h2>
            <pre><code>
false === 0
=> false

false === ""
=> false

"" === 0
=> false

var iable = …

// Pas glop !
if (iable) {
    …
}

// Glop glop !
if (iable !== null) {
    …
}

            </code></pre>
        </section>

        <section>
            <h2>Les strings</h2>
            <pre><code>
var s = "Je suis une chaîne";
typeof s
=> "string"

var nbErrors = 5;
var errorLog = "We have met " + nbErrors + " errors";

s.length;
=> 18;

s.charAt(0);
=> "J";

s.endsWith("ne");
=> true

            </code></pre>
        </section>

        <section>
            <h2>Les tableaux</h2>
            <pre><code>
var a = new Array();
a[0] = 'Promenons nous';
a[1] = 'dans les bois';
a.push('pendant que le loup n'\'y est pas');
a.length;
=> 3

a[150] = "Qu'est-ce que je fous là?";
a.length;
=> 151;

var b = ['si le loup', 'y était', 'il nous mangerait'];
            </code></pre>
        </section>

    <section>
        <h2>Fin de l'échauffement</h2>
        <img src="http://24.media.tumblr.com/tumblr_m5sepheKy21qzg45so1_1280.jpg" alt="" />
    </section>

    <section>
        <h1>Les objets</h1>
    </section>

    <section>
        <h2>Certaines choses ne sont pas des objets</h2>
        <ul>
            <li>Les nombres</li>
            <li>Les booléens</li>
            <li>Les strings</li>
            <li>Null et undefined</li>
        </ul>
    </section>

    <section>
        <h2>Tout le reste = object !</h2>
    </section>

    <section>
        <h2>Liste de valeurs indexées</h2>
        <pre class="javascript"><code>
var post = {
    title: "How to teach javascript",
    date: Date.now(),
    tags: ['javascript', 'teaching', 'mdn'],
    author: {
        first_name: "Thibault",
        last_name: "Jouannic"
    }
};
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
typeof post;
=> "object";

post.title;
=> 'How to teach javascript'

post['author'];
=> "Thibault"

post.related_post_ids = [5, 55, 75];
        </code></pre>
    </section>

    <section>
        <h1>Les fonctions</h1>
    </section>

    <section>
        <h2>Déclarer une fonction</h2>
        <pre class="javascript"><code>
// Glop mais pas top…
function add(a, b) {
    return a + b;
}

// Beaucoup plus glop !
var add = function(a, b) {
    return a + b;
};

typeof add;
=> 'function'
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
var success = function() {
    console.log('Opération réussie');
};

$.ajax({
    type: 'POST',
    url: '/hostels/create',
    success: success
});
        </code></pre>
    </section>

    <section>
        <h2>L'argument <em>arguments</em></h2>
        <pre class="javascript"><code>
var avg = function() {
    var sum = 0;
    for (var i = 0 ; i < arguments.length ; i++) {
        sum += arguments[i];
    }

    return sum / arguments.length;
};
avg(5, 6, 8, 13, 2);
=> 6.8
        </code></pre>
    </section>

    <section>
        <h2>L'argument <em>this</em></h2>
        <pre class="javascript"><code>
var person = {
    firstName: 'Bob',
    lastName: 'Sponge',
    fullName: function() {
        return this.firstName + ' ' + this.lastName;
    }
};
person.fullName();
=> 'Bob Sponge'
        </code></pre>

        <pre class="fragment javascript"><code>
var fn = person.fullName;
fn();
=> 'undefined undefined'
        </code></pre>
    </section>

    <section>
        <h1>Maintenant, la partie difficile</h1>
    </section>

    <section>
        <img src="http://24.media.tumblr.com/tumblr_lzcxa8aHtY1qzg45so1_1280.jpg" alt="" />
    </section>

    <section>
        <h2>Javascript est orienté objet…</h2>
        <h2>mais pas orienté classe !</h2>
    </section>

    <section>
        <h2>Il n'y a pas de classes en javascript</h2>
    </section>

    <section>
        <img src="http://25.media.tumblr.com/tumblr_m0sfsvffSw1qzg45so1_1280.jpg" alt="" />
    </section>

    <section>
        <h2>Il y a des classes dans beaucoup de langages,
        mais pas en javascript</h2>
    </section>

    <section>
        <h2>Les classes ne font pas partie des multiples
        éléments syntaxiques disponibles en javascript.</h2>
    </section>

    <section>
        <h2>Javascript met à votre disposition de nombreux outils,
        mais si vous cherchez les classes parmi eux, vous ne
        les trouverez pas.</h2>
    </section>

    <section>
        <h2>Tu connais l'histoire de la classe javascript ?</h2>
        <h2 class="fragment">Normal, il n'y en a pas.</h2>
    </section>

    <section>
        <h1>Digressons un moment</h1>
        <p class="fragment">(gressons)</p>
    </section>

    <section>
        <h2>À quoi sert une classe ?</h2>
        <ul class="fragment">
            <li>Réutilisation de code</li>
            <li>Architecturer le code</li>
            <li>Créer une abstraction compréhensible</li>
            <li>Faciliter la (re-) lecture</li>
        </ul>
    </section>

    <section>
        <pre class="python"><code>
class User:
    """Represents a single user in the application."""

    PASSWORD = 'gloubiboulga'

    def __init__(self, first_name, last_name):
        """Create a new user."""
        self.firts_name = first_name
        self.last_name = last_name
        self.is_authenticated = False

    def __str__(self):
        return '%s %s' % (self.first_name, self.last_name)

    def authenticate(self, password):
        """Mark the user as authenticated."""
        if password == self.PASSWORD:
            self.is_authenticated = True


riri = User('Riri', 'Duck')
riri.authenticate('schmilblick')
riri.is_authenticated
=> False
        </code></pre>
    </section>

    <section>
        <h2>Comprendre Javascript, c'est comprendre comment
            atteindre ces objectifs sans le concept de classe.</h2>
    </section>

    <section>
        <ul>
            <li>Le constructor pattern</li>
            <li>Les protoypes</li>
            <li>Les closures</li>
            <li>Les IIFEs</li>
        </ul>
    </section>

    <section>
        <img src="http://24.media.tumblr.com/tumblr_m1k9pn38tG1qzg45so1_1280.jpg" alt="" />
    </section>

    <section>
        <pre class="javascript"><code>
var riri = {
    firstName: 'Riri',
    lastName: 'Duck',
    toString: function() {
        return this.firstName + ' ' + this.lastName;
    }
};
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
var makeUser = function(firstName, lastName) {
    return {
        firstName: firstName,
        lastName: lastName,
        toString: function() {
            return this.firstName + ' ' + this.lastName;
        }
    };
};
var riri = makeUser('Riri', 'Duck');
var fifi = makeUser('Fifi', 'Duck');
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
var User = function(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
    this.toString = function() {
        return this.firstName + ' ' + this.lastName;
    };
};
var riri = new User('Riri', 'Duck');
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
var User = function(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
    this.toString = function() {
        return this.firstName + ' ' + this.lastName;
    };
};

var riri = new User('Riri', 'Duck');
var picsou = new User('Picsou', 'Duck');

picsou.toString = function() {
    return "I'm rich, bitch!";
};

riri.toString();
=> 'Riri Duck'

picsou.toString();
=> 'I'm rich, bitch!'
        </code></pre>
    </section>

    <section>
        <h2>Les prototypes</h2>
        <img src="http://25.media.tumblr.com/tumblr_m9uylnaRJ81qzg45so1_1280.jpg" alt="" />
    </section>

    <section>
        <pre class="javascript"><code>
var riri = {
    firstName: 'Riri',
    lastName: 'Duck',
};
Object.prototype.toString = function() {
    return this.firstName + ' ' + this.lastName;
};
riri.toString();
=> 'Riri Duck'
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
var User = function(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
};
User.prototype;
=> '{}'
        </code></pre>

        <pre class="javascript fragment"><code>
User.prototype.toString = function() {
    return this.firstName + ' ' + this.lastName;
};
User.prototype;
=> { toString: [Function] }
        </code></pre>

        <pre class="javascript fragment"><code>
var riri = new User('Riri', 'Duck');
riri.toString();
=> 'Riri Duck'
        </code></pre>
    </section>

    <section>
        <h2>L'héritage prototypal</h2>
        <img src="http://24.media.tumblr.com/tumblr_m11fw6xou81qzg45so1_1280.jpg" alt="" />
    </section>

    <section>
        <pre class="javascript"><code>
var User = function(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
};

User.prototype.toString = function() {
    return this.firstName + ' ' + this.lastName;
};

var AuthenticatedUser = function() {
    User.apply(this, arguments);
};
AuthenticatedUser.prototype = new User();
        </code></pre>

        <pre class="javascript fragment"><code>
var zaza = new AuthenticatedUser('Zaza', 'Duck');
zaza.toString();
=> 'Zaza Duck'

zaza instanceof AuthenticatedUser;
=> true
zaza intsanceof User;
=> true

        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
PASSWORD = 'gloubiboulga';

var User = function(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
    this.isAuthenticated = false;
};

User.prototype.toString = function() {
    return this.firstName + ' ' + this.lastName;
};

User.prototype.authenticate = function(password) {
    if (password == PASSWORD) {
        this.isAuthenticated = true;
    }
};

var riri = new User('Riri', 'Duck');
riri.authenticate('schmilblick');
riri.isAuthenticated;
=> false
        </code></pre>
    </section>

    <section>
        <h2>Le pattern IIFE</h2>
        <img src="http://25.media.tumblr.com/tumblr_m23fvip6Rp1qzg45so1_1280.jpg" alt="" />
    </section>

    <section>
        <pre class="javascript"><code>
var makeUserClass = function() {
    var PASSWORD = 'gloubiboulga';

    var User = function(firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.isAuthenticated = false;
    };

    User.prototype.toString = function() {
        return this.firstName + ' ' + this.lastName;
    };

    User.prototype.authenticate = function(password) {
        if (password == PASSWORD) {
            this.isAuthenticated = true;
        }
    };

    return User;
};
User = makeUserClass();

typeof User;
=> 'function'

typeof PASSWORD;
=> 'undefined'
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
var User = (function() {
    var PASSWORD = 'gloubiboulga';

    var User = function(firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.isAuthenticated = false;
    };

    User.prototype.toString = function() {
        return this.firstName + ' ' + this.lastName;
    };

    User.prototype.authenticate = function(password) {
        if (password == PASSWORD) {
            this.isAuthenticated = true;
        }
    };

    return User;
})();
        </code></pre>
    </section>

    <section>
        <pre class="javascript"><code>
(function(exports) {
    var PASSWORD = 'gloubiboulga';

    var User = function(firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.isAuthenticated = false;
    };
    exports.User = User;

    User.prototype.toString = function() {
        return this.firstName + ' ' + this.lastName;
    };

    User.prototype.authenticate = function(password) {
        if (password == PASSWORD) {
            this.isAuthenticated = true;
        }
    };
})(this);
        </code></pre>
    </section>

    <section>
        <img src="http://i.imgur.com/rYayJdG.jpg" alt="" />
    </section>

    </div></div>

    <script src="../reveal.js/lib/js/head.min.js"></script>
    <script src="../reveal.js/js/reveal.min.js"></script>

    <script>

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,
            rollingLinks: false,
            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: '../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                { src: '../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            ]
        });
    </script>
    </body>
</html>
